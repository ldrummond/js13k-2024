function aa(a){return Math.round(Math.random()*a)}function f(a,d=10){let [c,b,e]=a;return`hsl(${c+(Math.random()-.5)*d},${b+(Math.random()-.5)*d}%,${e+(Math.random()-.5)*d}%)`}function p(a){let d=a.cloneNode(),c=d.getContext("2d");c.drawImage(a,0,0);c.imageSmoothingEnabled=!1;return[d,c]}function ba(a){let d=document.createElement("a");d.innerHTML=a;return d.children[0]}
function ca(a,d,c,b){(1>a.width||1>a.height)&&console.log("Failed to replace color");a=d.getImageData(0,0,a.width,a.height);let e=a.data;for(let g=0;g<e.length;g+=4)e.slice(g,g+3)+""==c+""&&(e[g]=b[0],e[g+1]=b[1],e[g+2]=b[2]);d.putImageData(a,0,0)}function da(a,d,c,b){var e=ea;let g=Math.ceil(b/u);a.fillStyle=f(e,0);a.fillRect(d,c,b,u);for(b=0;b<=g;b++).75<Math.random()&&(a.fillStyle=f(e,12),a.fillRect(b*u+d,c,u,u))}
function w(a,d,c,b,e,g,h=12,k,l,n){n=n||u;b=Math.ceil(b/n);e=Math.ceil(e/n);let t=k||1;l=l?l||1:0;let m=!k;m&&(a.fillStyle=f(g,0),a.fillRect(d||0,c||0,Math.ceil((b+1)*n),Math.ceil((e+1)*n)));for(let q=0;q<=b;q++)for(let v=0;v<=e;v++){let L=q<=t||q>=b-t||v<=t||v>=e-t;var r=q>=l&&q<=b-l&&v>=l&&v<=e-l;if(m||L&&r){r=.75<Math.random();let F=h;k&&(F=r?h:0);if(r||k&&L)a.fillStyle=f(g,F),a.fillRect(q*n+d,v*n+c,n,n)}}}
function x(a){console.log("Sprite Text Init Src: INNER: ",a);console.log("canvas from spritesheet",a,y.width,y.height,void 0,void 0);let [d,c]=p(y),b=a.w,e=a.h;d.width=b;d.height=e;c.drawImage(z,a.x,a.y,a.w,a.h,0,0,b,e);return[d,c]}Array.prototype.g=0;Array.prototype.next=function(){this.g=(this.g+1)%this.length;return this[this.g]};
let fa=[0,0,1],A=[0,0,19],ha=[8,65,15],ia=[3,3,8],ea=[164,38,5],ja=[0,0,28],ka=[230,80,40],la=[20,20,20],ma=[100,100,100],na=[255,255,255],B=[155,132,2],oa=[93,52,52],pa=[180,49,67],qa=Math.sqrt(2),C=window.devicePixelRatio||1,D=window.innerWidth,G=window.innerHeight,ta=[392,329.63,293.66,246.94,220,196],z=document.createElement("img");z.src="spritesheet.png";
let ua=12/9,[H,I]=D/ua>G?[G*ua,G]:[D,D/ua],u=H/300,J=3.5*I/24,va=21.75*I/24/u,K=(1*H/24+20)/u,wa=(24*H/24-K)/4/u,M=7*H/24,N=J+1.5*I/24,P=6.5*H/24,xa=13*I/24,Q=2.5*u,ya=1*H/24,za=.75*I/24,Aa=20*H/24,Ba=1.5*I/24,Ca={start:"See that little runt? He just turned 13 and is starting puberty.",encourage:"He needs a bit of a nudge. Click the brain to get his hormones pumping.",brain_clicked:"Nice! Look at him squirm. Get more hormones and unlock that pituitary."},y=document.createElement("canvas");
y.width=D;y.height=G;let [Da,Ea]=p(y);Da.id="loading";Da.classList.add("fill");document.body.append(Da);w(Ea,0,0,D,G,fa);Ea.imageSmoothingEnabled=!1;let R=document.createElement("div");R.style.width=H+"px";R.style.height=I+"px";R.id="container";R.innerHTML='<div id="text"></div><div id="footer"></div>';document.body.prepend(R);let [S,T]=p(y);S.id="main";R.append(S);S.width=H*C;S.height=I*C;T.scale(C,C);T.imageSmoothingEnabled=!1;document.documentElement.style.fontSize=4*u+"px";let [Fa]=p(S);
var Ga="",Ia=void 0,Ja=0,Ka=0,La=1,Ma="default",Na=[],Oa=[],Pa=[],Qa="",Ra=!1;
let Sa={name:"hormones",type:0,C:"{",icon:'<path d="M35 32.6C35 38.4 30.5 43 25 43s-10-4.6-10-10.4c0-1.3.6-3.6 1.7-6.4a118.9 118.9 0 0 1 7.5-16.5l.8-1.6a240.8 240.8 0 0 1 8.3 18c1 2.9 1.7 5.2 1.7 6.5Z"/>',i:0,J:100,F:0,S:!1,T:()=>!0},Xa={name:"confidence",type:1,C:"}",icon:'<path d="m22 9 8 3c3 1 6 3 7 5 5 8 3 18-4 22-3 2-7 2-10 2a16 16 0 0 1-8-30 21 21 0 0 1 7-2Z"/><circle cx="27.1" cy="24" r="16"/><path d="M27 8v31M38 24a21 21 0 0 1-3 2c-2 1-5 3-8 3s-6-2-8-3a23 23 0 0 1-3-2 20 20 0 0 1 3-2c2-1 5-3 8-3s6 2 8 3a23 23 0 0 1 3 2Z"/><ellipse cx="26.9" cy="24.1" rx="2.8" ry="4.7"/>',i:0,
J:10,F:0,S:!0,T:()=>!1},Ya={name:"maturity",type:2,C:"|",icon:'<path d="m20.4 23.5-9-3.7 7.3-12 1.3 7.4v.7l.7.1L32 19.5l-2.9 7.9-.4 1 1 .3 9 2.7L35 44H22.9l2.7-7.7.3-.9-.9-.3-7-2.7 3-7.6.3-1-1-.3Z"/>',i:0,J:20,F:0,S:!0,T:()=>!1},Za={name:"knowledge",type:3,C:"~",icon:'<rect width="24" height="8" x="7" y="8" rx="4"/><path d="M13 8h21a4 4 0 0 1 4 4v26a4 4 0 0 1-4 4H17a4 4 0 0 1-4-4V8Z"/><path d="M18 34h21a4 4 0 0 1 0 8H18v-8Z"/><path d="M17 42a4 4 0 0 0 0-8m-4-22c0-2.2-.9-4-2-4"/><circle cx="17" cy="38" r="3"/>',
i:0,J:5,F:0,S:!0,T:()=>!1},$a=[Sa,Ya,Xa,Za],U={[0]:Sa,[2]:Ya,[1]:Xa,[3]:Za};function ab(a,d,c){a=ba(`<svg viewBox='0 0 50 50'>${U[a].icon}</svg>`);let b=ba("<div class='resource-gain'></div>");b.append(a);b.style.left=d+"px";b.style.top=c+"px";R.append(b);setTimeout(()=>{b.remove()},2E3)}
class bb{constructor(a,d,c){this.g=0;this.u=a;this.j=d;this.s=c;Pa.push(this)}M(a){0!=this.j&&(this.g+=a,this.g>=this.u&&(this.s&&this.s(this.j),this.j--,0!=this.j?this.g=0:this.cancel()))}cancel(){let a=Pa.indexOf(this);-1<a&&Pa.splice(a,1)}}
class cb{constructor(a){this.data={};let {id:d,x:c,y:b,w:e,P:g,l:h,ba:k,data:l}=a;this.id=d||aa(100)+"";this.data=l;let n=h[0];this.x=c*u;this.y=b*u;this.w=e*u;let t=this.w/n.w;this.g=n.h/n.w*this.w;this.A=h.map(m=>{let [r,q]=x(m);g&&(this.w*=2,this.w+=g*t,r.width*=2,r.width+=g);let v=m.x,L=m.y,F=m.w;m=m.h;a.P&&(q.drawImage(z,v,L,F,m,0,0,F,m),q.save(),q.scale(-1,1),q.translate(-r.width,0),q.drawImage(z,v,L,F,m,0,0,F,m),q.restore());return[r,q]}).map(m=>m[0]);this.R=this.A[0];k&&new bb(k,-1,()=>{this.R=
this.A.next()})}O(a){a.drawImage(this.R,this.x,this.y,this.w,this.g)}}let db=Fa.getContext("2d",{ga:!0});db.scale(C,C);let eb=Fa.getBoundingClientRect();Fa.id="hitmask";R.prepend(Fa);Fa.style.opacity="0";function fb(){let a=db.getImageData((Ja-eb.left)*C,(Ka-eb.top)*C,1,1).data;Ga=`rgb(${a[0]},${a[1]},${a[2]})`}
function gb(a){a.A.map(d=>{let [c,b]=p(d),e={};e.da=d;b.globalCompositeOperation="source-over";b.fillStyle=a.$;b.fillRect(0,0,a.w,a.g);b.globalCompositeOperation="destination-in";b.drawImage(d,0,0);var g=a.x,h=a.y,k=a.w,l=a.g;console.log("Add to hitmask");db.drawImage(c,g,h,k,l);eb=Fa.getBoundingClientRect();b.globalCompositeOperation="source-atop";b.drawImage(d,0,0);ca(c,b,oa,pa);e.Y=p(c)[0];ca(c,b,pa,oa);b.fillStyle="rgba(0,0,0,0.5)";b.fillRect(0,0,a.w,a.g);e.X=p(c)[0];b.fillStyle="rgba(0,0,0,0.7)";
b.fillRect(0,0,a.w,a.g);e.ca=p(c)[0];b.drawImage(d,0,0);ca(c,b,oa,pa);b.fillStyle="rgba(255,200,200,0.6)";b.fillRect(0,0,a.w,a.g);e.aa=p(c)[0];ca(c,b,pa,oa);b.clearRect(0,0,a.w,a.g);b.globalCompositeOperation="source-over";b.drawImage(d,0,0);a.U.push(e)})}
class hb extends cb{constructor(a){let {name:d,description:c,m:b,state:e,H:g,gain:h,I:k,N:l,B:n,o:t,hidden:m=!1,G:r}=a;super(t);this.U=[];this.u=this.V=this.Z=0;this.G=this.s=this.L=this.W=this.I=!1;this.name=d;this.description=c;this.m=b;this.state=e;this.H=g;this.gain=h;"number"===typeof l&&0<l&&(this.N=l);this.I=!!k;this.K=n;this.o=t;this.$=`rgb(${aa(255)},${aa(255)},${aa(255)})`;this.hidden=m;this.G=r;gb(this);this.D=this.U[0]}M(){var a=Date.now();let d=this.$===Ga;!this.L&&d&&(this.V=a);this.L=
d;let c=222<a-this.V;d&&0!==this.state&&(Ma="pointer",c&&this.name&&(Ia=this));if(this.H){let b=!1;Object.entries(this.H).map(e=>{let [g,h]=e;h.i&&U[g].i<h.i&&(b=!0);h.v&&U[g].F<h.v&&(b=!0)});this.W=b}this.j&&this.m&&(this.Z=(a-this.j)/this.m,a=1<this.Z,5===this.state&&a&&(this.state=1))}B(){this.s||this.I&&this.j||this.N&&this.u>=this.N||1!==this.state||(this.s=!0,this.m&&(this.j=Date.now(),this.state=5),this.u+=1,this.gain&&Object.entries(this.gain).map(a=>{let [d,c]=a;U[d].i+=c.i||0;U[d].F+=c.v||
0;ab(d,this.x+this.w/2,this.y)}),this.K&&this.K(),setTimeout(()=>{this.s=!1},160))}O(a){if(!this.hidden){var d=this.D.da,c=this.y,b=this.g,e=d.width,g=d.height;if(0===this.state||this.G)d=this.D.ca;else if(this.W)d=this.D.X;else if(this.s)c+=2,d=this.D.aa;else if(this.j&&this.m&&5===this.state){a.drawImage(this.D.X,this.x,c,this.w,b);let h=Math.min((Date.now()-this.j-160)/(this.m-160),1);g*=h;b*=h}else if(this.L||this.I&&this.j)d=this.D.Y;this.L&&this.G&&(d=this.D.Y);a.drawImage(d,0,0,e,g,this.x,
c,this.w,b)}}}
let V={avatar:{x:172,y:7,w:8,h:8},bone:{x:66,y:7,w:7,h:19},book1:{x:354,y:0,w:12,h:15},book2:{x:366,y:0,w:12,h:15},book3:{x:378,y:0,w:12,h:15},book4:{x:390,y:0,w:12,h:15},book5:{x:341,y:0,w:13,h:14},brain:{x:402,y:0,w:13,h:11},"character 0":{x:33,y:0,w:33,h:54},"character 1":{x:0,y:0,w:33,h:55},claw:{x:326,y:0,w:15,h:13},eye:{x:161,y:7,w:11,h:7},foot:{x:116,y:7,w:9,h:10},horn:{x:99,y:7,w:8,h:13},iconCoin:{x:125,y:7,w:9,h:9},iconHormones:{x:152,y:7,w:9,h:9},iconHorn:{x:143,y:7,w:9,h:9},iconMuted:{x:73,
y:7,w:13,h:9},iconPlaying:{x:86,y:7,w:13,h:9},iconScroll:{x:134,y:7,w:9,h:9},kidney:{x:107,y:7,w:9,h:11},lungs:{x:299,y:0,w:15,h:23},minion:{x:180,y:7,w:7,h:7},note:{x:187,y:7,w:7,h:4},pituitary:{x:415,y:0,w:5,h:5},tail:{x:276,y:0,w:23,h:15},textAlt:{x:66,y:0,w:210,h:7},violin:{x:314,y:0,w:12,h:21}};function ib(a){43==a&&(a=0);33==a&&(a=1);63==a&&(a=2);58==a&&(a=3);45<a&&58>a&&(a-=16);64<a&&91>a&&(a-=61);return a}
function jb(){var a=kb;console.log("Sprite Text Init Src: ",V.textAlt);let [d]=x(V.textAlt);console.log("Sprite Text Init: ",V.textAlt,d.width,d.height);a.g=d;a.K=x(V.iconHormones)[0];a.A=x(V.iconHorn)[0];a.s=x(V.iconCoin)[0];a.u=x(V.iconScroll)[0]}function lb(a,d){let c=""+d[0]+d[1]+d[2];if(a.j[c])return a.j[c];a.g?.width||console.log("Canvas not defined yet");let [b,e]=p(a.g);ca(b,e,na,d);return a.j[c]=b}
function W(a,d,c=0,b=0,e=10,g=.3,h,k){var l=kb,n=void 0;d=d.toUpperCase();c*=u;b*=u;e*=u;n=n?n*u:void 0;let t=g*e,m=0,r=0,q=1,v=l.g;h&&(v=lb(l,h));let L=Ya.C.charCodeAt(0),F=Xa.C.charCodeAt(0),Ta=Za.C.charCodeAt(0),rb=[Sa.C.charCodeAt(0),L,F,Ta],Ha=0;d.split("").map((E,ra)=>{E=d.charCodeAt(ra);ra=32==E;let Ua=46==E,sb=63==E;var sa=58==E,O=rb.includes(E);if(33==E||Ua||sa)m-=.8*t;let tb=5*ib(E),Va=c+m,Wa=b+r*e*2.5,ub=e,vb=7*e/5;sa=()=>a.drawImage(v,tb,0,5,7,Va,Wa,ub,vb);ra||O?(m+=2*t,O&&(O=l.K,E===
L&&l.A&&(O=l.A),E===F&&l.s&&(O=l.s),E===Ta&&l.u&&(O=l.u),O&&(a.drawImage(O,Va-2*t,Wa-t,7*2.3,7*2.3),m+=5*t))):(m+=e+t,k?(q+=k,setTimeout(sa,q)):sa());n?ra&&m>n&&(Ha+=m,m=0,r+=1):Ha=m;k&&(sb||Ua)&&(q+=5*k)});return Ha}class mb{constructor(){this.g=document.createElement("canvas");this.j={}}}let kb=new mb;
function nb(a){var d=175*u,c=33*u;let b=114*u;var e=27*u;let g=0;if(Ia){var h=Ia;let k=h.name+"";h.description?h.description+" ":"";let l=h.u,n=h.N,t=h.H;h=h.gain;n&&(k+=": ");a.g.clearRect(d,c,b,e);g+=W(a.g,k,d/u+3,c/u+3,2.7,.3,ma);n&&W(a.g,l+"/"+n,(g+10+d)/u+3,c/u+3,2.7,.3,B,80);da(a.g,d+2*u,c+10*u,b-4*u);g=0;c=c/u+14;if(t){let m="";Object.entries(t).map(([r,q])=>{r=$a[r]?.C;let v=q.i;q=q.v;v&&(m+=`+${v} ${r}`);q&&(m+=`+${q}/s ${r}`)});e=d/u+3;W(a.g,"COST: ",e,c,2.7,.3,B);W(a.g,m,e,c+6,2.7,.3,B)}if(h){let m=
"";Object.entries(h).map(([r,q])=>{r=$a[r]?.C;let v=q.i;q=q.v;v&&(m+=`+${v} ${r}`);q&&(m+=`+${q}/s ${r}`)});d=(d+(t?b/2:0))/u+3;W(a.g,"GAIN: ",d,c,2.7,.3,B);W(a.g,m,d,c+6,2.7,.3,B)}}}
class ob{constructor(){this.text=this.A="";document.getElementById("text");document.body.style.fontSize=H/64+"px";let [a,d]=p(S);a.id="ui";R.insertBefore(a,S);d.scale(C,C);this.g=d;let [c,b]=p(S);this.u=c;c.width=20;c.height=20;w(b,0,0,20,20,ka,10,void 0,void 0,1);let [e]=p(this.u);this.R=e;w(b,0,0,20,20,A,10,void 0,void 0,1);let [g,h]=p(this.u);this.s=g;this.s.width=50;this.s.height=50;this.j=h;nb(this)}M(){Qa!=this.A&&(this.A=Qa,this.g.clearRect(30*u,7*u,240*u,17*u),W(this.g,this.A,34,13,2.7,.3,
B,80));Ia!=this.K&&(this.K=Ia,nb(this))}O(a){$a.map((d,c)=>{var b=22*u;let e=va*u;var g=e-b/2,h=d.i/d.J;let k=(K-7+c*wa)*u,l=this.s.width,n=l/qa,t=.8*n;this.j.drawImage(this.R,0,20*(1-h),20,20*h,0,b*(1-h),l,l*h);this.j.save();this.j.globalCompositeOperation="destination-in";this.j.translate(l/2,l/2);this.j.rotate(.785);this.j.fillRect(-t/2,-t/2,t,t);this.j.globalCompositeOperation="destination-over";this.j.fillStyle="red";this.j.drawImage(this.u,-n/2,-n/2,n,n);this.j.restore();this.g.drawImage(this.s,
k,g,b,b);b=Math.floor(d.i);g="/"+d.J;h="+"+Math.floor(10*d.F)/10;k/=u;k+=0===c?28:31;c=e/u-2.5;k+=W(a,b+"",k,c,4,.15,0<b?B:ma)/u;k+=1;k+=W(a,g,k,c,4,.15,ma)/u;"knowledge"!==d.name&&(k+=W(a,h,k+3,c+2.2,2.5,.1,ma)/u,W(a,"/s",k+3.3,c+3.2,1.7,.5,ma))})}}let X=new AudioContext;X.addEventListener("statechange",a=>{console.log(a)});X.createGain();
function pb(a){"suspended"===X.state&&X.resume();let d=.5*La,c=X.createOscillator();c.type="sawtooth";c.frequency.setValueAtTime(a,X.currentTime);a=X.createGain();a.gain.setValueAtTime(0,X.currentTime);a.gain.linearRampToValueAtTime(d,X.currentTime+.05);a.gain.exponentialRampToValueAtTime(.001,X.currentTime+1.5);c.connect(a);a.connect(X.destination);c.start(X.currentTime);c.stop(X.currentTime+1.5)}
let Y=1*H/24/u,Z=J/u,qb=(J+4.1*I/24)/u,wb=(J+11.2*I/24)/u,xb=[{name:"eye",description:"the final evolution",state:1,H:{[0]:{i:100},[2]:{i:50},[3]:{i:4}},gain:{},I:!0,o:{x:Y+25,y:Z+5,w:19,l:[V.eye]}},{name:"pituitary",description:"starts hormone production.",state:1,H:{[0]:{i:10}},gain:{[0]:{v:.5}},N:1,I:!0,o:{x:Y+30,y:Z+50,w:10,l:[V.pituitary]}},{name:"kidney",description:"starts hormone production.",state:0,H:{[0]:{i:10}},gain:{[0]:{v:.5}},I:!0,o:{x:Y+5,y:Z+72,w:16,l:[V.kidney]}},{name:"brain",description:"The root of all evil",
m:1E3,state:1,gain:{[0]:{i:10}},B(){Ra||(Ra=!0,Qa=Ca.ea)},o:{x:Y+23,y:Z+27,w:23,l:[V.brain]}},{name:"lungs",description:"Throat organs",m:1E3,state:0,gain:{[0]:{i:10}},o:{x:Y+24,y:Z+68,w:24,l:[V.lungs]}},{name:"bones",description:"Growth spurt",m:1E3,state:0,gain:{[0]:{i:10}},o:{x:Y+53,y:Z+74,w:11.5,l:[V.bone]}},{name:"claws",m:2E3,state:0,gain:{[2]:{v:1}},B(){},o:{x:Y+5,y:Z+49,w:20,P:17,l:[V.claw]}},{name:"horns",m:2E3,state:0,gain:{[2]:{v:1}},B(){},o:{x:Y+4,y:Z+8,w:14,P:20,l:[V.horn]}},{name:"hooves",
m:2E3,state:0,gain:{[2]:{v:1}},o:{x:Y+4,y:Z+129,w:17,P:15,l:[V.foot]}},{name:"tail",m:2E3,state:0,gain:{[2]:{v:1}},o:{x:Y+4,y:Z+99,w:39,l:[V.tail]}}],yb=[],zb=Array(6).fill(6).map(()=>aa(5));for(let a=0;6>a;a++){let d=a/6;for(let c=0;6>c;c++){let b=ta[a];yb.push({state:1,G:zb[c]!==a,B(){pb(b);Oa.map(e=>{e?.data?.c==c&&(e.G=!0)});this.G=!1},o:{id:"note",x:213+c/6*70,y:qb+(1+28*d),w:9,l:[V.note],data:{c,r:a,fa:b}}})}}
let Ab=[{name:"violin",m:2400,state:1,gain:{[2]:{v:1}},B(){let a=[],d=Oa.filter(c=>c.id.match("note")&&!c.G);for(let c=0;6>c;c++){let b=d.find(e=>e?.data?.c==c);b&&a.push(b)}new bb(400,6,c=>{(c=a[6-c])&&c.B()})},o:{x:180,y:qb,w:25,l:[V.violin]}},...yb],Bb=[{name:"codex gigas",m:2E3,state:1,gain:{[3]:{i:1}},o:{x:183,y:wb,w:17,l:[V.book1]}},{name:"the black arts",m:2E3,state:1,gain:{[3]:{i:1}},o:{x:210,y:wb,w:17,l:[V.book2]}},{name:"Dantes Inferno",m:2E3,state:1,gain:{[3]:{i:1}},o:{x:237,y:wb,w:17,
l:[V.book3]}},{name:"chicken soup for the teenage devil",m:2E3,state:1,gain:{[3]:{i:1}},o:{x:263,y:wb,w:19,l:[V.book5]}},{state:1,B(){La=1-La;this.D=this.U.next()},o:{x:280,y:11,w:10,l:[V.iconPlaying,V.iconMuted]}}],Cb=[...xb,...Ab,...Bb],Db=va-5,Eb=[{x:16,y:10,w:10,l:[V.minion]},{x:K+0*wa,y:Db,w:10,l:[V.iconHormones]},{x:K+wa,y:Db,w:10,l:[V.iconHorn]},{x:K+2*wa,y:Db,w:10,l:[V.iconCoin]},{x:K+3*wa,y:Db,w:10,l:[V.iconScroll]},{x:98,y:1.25*N/u,w:60,l:[V["character 0"],V["character 1"]],ba:2E3}];
function Fb(){let [a,d]=p(y);a.id="page-background";document.body.prepend(a);w(d,0,0,D,G,A,1);let [c,b]=p(S);c.id="background";b.scale(C,C);R.prepend(c);w(b,0,0,H,I,ea,8);var e=1*H/24,g=5.5*H/24,h=16*I/24;w(b,e,J,g,h,A,6);w(b,e,J,g,h,A,20,2);w(b,ya,za,Aa,Ba,ia,5);e=14*H/24;g=J+3.5*I/24;h=9*H/24;var k=6*I/24;w(b,e,g,h,k,A,8);w(b,e,g,h,k,ea,25,1,1);W(b,"The Band",1.22*e/u,.88*(g+k)/u,5,.83,la);h=30*u;for(k=1;7>k;k++)b.fillStyle=f(fa),b.fillRect(e+38*u,g+(10+k*h/6),67*u,u);e=14*H/24;g=J+10.25*I/24;h=
9*H/24;k=5.75*I/24;w(b,e,g,h,k,A,8);w(b,e,g,h,k,ea,25,1,1);W(b,"The Library",1.05*e/u,.91*(g+k)/u,5,.81,la);w(b,M,N,P,xa,ha);w(b,M+Q,N+xa-6*Q,P-2*Q,5.1*Q,ja,20);w(b,M,N,P,xa,A,5,2);w(b,M,N,P,xa,ea,25,1,1);w(b,14*H/24,J,9*H/24,2.75*I/24,A,6)}z.onload=Gb;console.log("Load Spritesheet",z);
function Gb(){console.log("On Loaded Spritesheet");jb();Fb();console.log("Rendered Background");let a=new ob;Eb.map(b=>Na.push(new cb(b)));Cb.map(b=>Oa.push(new hb(b)));document.addEventListener("mousemove",b=>{Ja=b.x;Ka=b.y});console.log("After Initialized");document.getElementById("loading")?.remove();let d=document.getElementById("start");(function(){console.log("Start Function");d.remove();Ea.fillStyle="red";new bb(100,1,e=>{Ea.clearRect(0,0,Da.width,Da.height*(1-e/1));1==e&&(Qa=Ca.start,setTimeout(()=>
{Qa=Ca.encourage},7E3),Da.remove())});window.addEventListener("click",()=>{Oa.find(e=>e.L)?.B()});let b=0;(function h(g){let k=g-b;20<=k&&(b=g-k%20,document.body.style.cursor=Ma,Ma="default",T.clearRect(0,0,H,I),a.M(),a.O(T),Na.map(l=>l.O(T)),$a.map(l=>{l.i+=l.F*k/1E3;l.i>l.J&&(l.i=l.J)}),Oa.map(l=>{l.M();l.O(T)}),Pa.map(l=>{l.M(k)}),T.fillStyle=c,T.globalCompositeOperation="darken",T.globalAlpha=.6,T.fillRect(M+Q+2,N+Q+2,P-2*Q,xa-2*Q),T.globalCompositeOperation="source-over",T.globalAlpha=1,fb());
requestAnimationFrame(h)})(0)})();let c=T.createLinearGradient(M+Q,N+Q,P-2*Q,xa-2*Q);c.addColorStop(0,f(fa,0));c.addColorStop(1,f(ha,0))};
